/* ========================================
   Packages View Styles
======================================== */

.packages-page .filters-grid {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
    gap: var(--spacing-md);
}

@media (max-width: 1100px) {
    .packages-page .filters-grid {
        grid-template-columns: 1fr 1fr 1fr;
    }
}

@media (max-width: 768px) {
    .packages-page .filters-grid {
        grid-template-columns: 1fr 1fr;
    }
}

@media (max-width: 500px) {
    .packages-page .filters-grid {
        grid-template-columns: 1fr;
    }
}

/* Bulk Actions */
.bulk-actions .card-body {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--color-primary-bg);
    border-left: 3px solid var(--color-primary);
}

.bulk-count {
    font-size: var(--font-size-sm);
}

.bulk-buttons {
    display: flex;
    gap: var(--spacing-sm);
}

/* Transport badges */
.transport-badge {
    display: inline-block;
    padding: 2px 8px;
    font-size: var(--font-size-xs);
    border-radius: var(--radius-sm);
    background: var(--color-gray-100);
}

.transport-sea { background: var(--color-info-bg); color: var(--color-info); }
.transport-air_normal { background: var(--color-primary-bg); color: var(--color-primary); }
.transport-air_express { background: var(--color-warning-bg); color: var(--color-warning); }

/* Table footer */
.table-footer {
    padding: var(--spacing-md) 0;
    border-top: 1px solid var(--color-gray-100);
    margin-top: var(--spacing-md);
}

/* Photo upload */
.photo-upload {
    border: 2px dashed var(--color-gray-300);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    text-align: center;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.photo-upload:hover {
    border-color: var(--color-primary);
    background: var(--color-primary-bg);
}

.photo-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-sm);
    color: var(--color-gray-500);
}

.photo-preview {
    max-width: 100%;
    max-height: 200px;
    border-radius: var(--radius-md);
}

/* Estimate Box */
.estimate-box {
    background: var(--color-gray-100);
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    margin-top: var(--spacing-md);
}

.estimate-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.estimate-box strong {
    font-size: var(--font-size-lg);
    color: var(--color-primary);
}

.estimate-detail {
    margin-top: var(--spacing-xs);
}

/* Empty state */
.packages-page .empty-state {
    padding: var(--spacing-2xl);
    text-align: center;
    color: var(--color-gray-500);
}

.packages-page .empty-state svg {
    opacity: 0.3;
    margin-bottom: var(--spacing-md);
}

/* ========================================
   Scanner Mode Styles
======================================== */

.scanner-mode {
    text-align: center;
}

.scanner-header {
    margin-bottom: var(--spacing-lg);
}

.scanner-icon {
    color: var(--color-primary);
    margin-bottom: var(--spacing-md);
}

.scanner-input-wrapper {
    position: relative;
    display: flex;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-md);
}

.scan-input {
    flex: 1;
    font-size: var(--font-size-lg);
    text-align: center;
    font-family: monospace;
    letter-spacing: 1px;
    padding: var(--spacing-md);
}

.scan-btn {
    padding: var(--spacing-md);
    min-width: 50px;
}

.scan-searching {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    color: var(--color-gray-500);
}

.scanner-stats {
    display: flex;
    justify-content: center;
    gap: var(--spacing-lg);
    margin: var(--spacing-lg) 0;
}

.scanner-stat {
    text-align: center;
}

.scanner-stat-value {
    display: block;
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
}

.scanner-stat-label {
    font-size: var(--font-size-sm);
    color: var(--color-gray-500);
}

.scanner-status {
    min-height: 60px;
    margin: var(--spacing-md) 0;
}

.scan-success {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: var(--color-success-bg);
    color: var(--color-success);
    border-radius: var(--radius-md);
    text-align: left;
}

.scan-success-info {
    display: flex;
    flex-direction: column;
}

.scan-success-info strong {
    font-family: monospace;
}

.scan-warning {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    background: var(--color-warning-bg);
    color: var(--color-warning);
    border-radius: var(--radius-md);
}

/* Manual form */
.manual-form {
    margin-top: var(--spacing-lg);
    padding-top: var(--spacing-lg);
    border-top: 1px solid var(--color-gray-200);
    text-align: left;
}

.manual-form-header {
    margin-bottom: var(--spacing-md);
}

.manual-form .form-actions {
    display: flex;
    justify-content: flex-end;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-md);
}

/* Dark mode */
[data-theme="dark"] .bulk-actions .card-body {
    background: var(--color-primary-bg);
}

[data-theme="dark"] .estimate-box {
    background: var(--color-gray-200);
}

[data-theme="dark"] .photo-upload {
    border-color: var(--color-gray-400);
}

[data-theme="dark"] .photo-upload:hover {
    border-color: var(--color-primary);
}

[data-theme="dark"] .table-footer {
    border-color: var(--color-gray-200);
}

[data-theme="dark"] .manual-form {
    border-color: var(--color-gray-300);
}


/* ========================================
   Departure Assignment Modal
======================================== */

.departure-preview {
    margin-top: var(--spacing-md);
}

.departure-preview-card {
    background: var(--color-gray-50);
    border: 1px solid var(--color-gray-200);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
}

.preview-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-xs) 0;
    font-size: var(--font-size-sm);
}

.preview-row:not(:last-child) {
    border-bottom: 1px solid var(--color-gray-100);
}

.preview-label {
    color: var(--color-gray-500);
}

.preview-notes {
    margin-top: var(--spacing-sm);
    padding-top: var(--spacing-sm);
    border-top: 1px solid var(--color-gray-200);
    font-size: var(--font-size-xs);
    color: var(--color-gray-500);
    font-style: italic;
}

/* Dark mode */
[data-theme="dark"] .departure-preview-card {
    background: var(--color-gray-200);
    border-color: var(--color-gray-300);
}

[data-theme="dark"] .preview-row:not(:last-child) {
    border-color: var(--color-gray-300);
}

[data-theme="dark"] .preview-notes {
    border-color: var(--color-gray-300);
}


/* ========================================
   Departure Cell in Table
======================================== */

.departure-cell {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: 4px 8px;
    background: var(--color-gray-100);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.departure-cell:hover {
    background: var(--color-primary-bg);
    color: var(--color-primary);
}

.departure-cell.in-transit {
    background: var(--color-info-bg);
    color: var(--color-info);
}

.departure-cell.arrived {
    background: var(--color-success-bg);
    color: var(--color-success);
}

.departure-cell-icon {
    display: flex;
    align-items: center;
}

.departure-cell-date {
    font-weight: var(--font-weight-medium);
}

/* Dark mode */
[data-theme="dark"] .departure-cell {
    background: var(--color-gray-200);
}

[data-theme="dark"] .departure-cell:hover {
    background: var(--color-primary-bg);
}


/* ========================================
   Receive Form Styles (Scanner Mode)
======================================== */

.receive-form-container {
    text-align: left;
    background: var(--color-white);
    border: 1px solid var(--color-gray-200);
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.receive-form-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: var(--spacing-md);
    background: var(--color-gray-50);
    border-bottom: 1px solid var(--color-gray-200);
}

.receive-package-info {
    flex: 1;
}

.receive-tracking {
    font-size: var(--font-size-lg);
    margin-bottom: var(--spacing-xs);
}

.receive-tracking strong {
    font-family: monospace;
    color: var(--color-primary);
}

.receive-client {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: var(--font-size-sm);
    margin-bottom: var(--spacing-xs);
}

.receive-desc {
    font-size: var(--font-size-sm);
}

.receive-transport {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
    align-items: flex-end;
}

.type-badge {
    display: inline-block;
    padding: 2px 8px;
    font-size: var(--font-size-xs);
    border-radius: var(--radius-sm);
    background: var(--color-gray-200);
    color: var(--color-gray-700);
}

.receive-form-body {
    padding: var(--spacing-md);
}

/* Comparison table */
.receive-comparison {
    margin-bottom: var(--spacing-md);
}

.comparison-header {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) 0;
    border-bottom: 2px solid var(--color-gray-200);
    margin-bottom: var(--spacing-sm);
}

.comparison-label {
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    color: var(--color-gray-500);
    text-transform: uppercase;
    text-align: center;
}

.comparison-row {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: var(--spacing-sm);
    align-items: center;
    padding: var(--spacing-sm) 0;
    border-bottom: 1px solid var(--color-gray-100);
}

.comparison-field {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-gray-700);
}

.comparison-estimated {
    text-align: center;
    font-size: var(--font-size-sm);
    color: var(--color-gray-500);
    font-style: italic;
}

.comparison-input {
    padding: var(--spacing-sm);
    font-size: var(--font-size-sm);
    text-align: center;
}

/* Total */
.receive-total {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md);
    background: var(--color-primary-bg);
    border-radius: var(--radius-md);
    margin-bottom: var(--spacing-md);
}

/* Rate info (auto-calculated, non-editable) */
.receive-rate-info {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--color-gray-50);
    border: 1px solid var(--color-gray-200);
    border-radius: var(--radius-md);
    margin-bottom: var(--spacing-md);
}

.rate-label {
    font-size: var(--font-size-sm);
    color: var(--color-gray-600);
}

.rate-value {
    font-weight: var(--font-weight-semibold);
    color: var(--color-primary);
}

.rate-source {
    font-size: var(--font-size-xs);
}

.rate-warning {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: var(--font-size-sm);
}

.total-label {
    font-weight: var(--font-weight-semibold);
    color: var(--color-gray-700);
}

.total-value {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-gray-400);
}

.total-value.has-value {
    color: var(--color-primary);
}

/* Actions */
.receive-actions {
    display: flex;
    justify-content: flex-end;
    gap: var(--spacing-sm);
}

/* Dark mode */
[data-theme="dark"] .receive-form-container {
    background: var(--color-gray-100);
    border-color: var(--color-gray-300);
}

[data-theme="dark"] .receive-form-header {
    background: var(--color-gray-200);
    border-color: var(--color-gray-300);
}

[data-theme="dark"] .comparison-header {
    border-color: var(--color-gray-300);
}

[data-theme="dark"] .comparison-row {
    border-color: var(--color-gray-200);
}

[data-theme="dark"] .type-badge {
    background: var(--color-gray-300);
}

[data-theme="dark"] .receive-total {
    background: var(--color-primary-bg);
}

[data-theme="dark"] .receive-rate-info {
    background: var(--color-gray-200);
    border-color: var(--color-gray-300);
}
