# ===========================================
# Express Cargo Backend - Variables d'environnement
# ===========================================
# Copiez ce fichier en .env et configurez les valeurs

# Mode d'exécution: development | production | testing
FLASK_ENV=development

# ===========================================
# SÉCURITÉ (OBLIGATOIRE en production)
# ===========================================
# Générez avec: python -c "import secrets; print(secrets.token_hex(32))"
# IMPORTANT: Utilisez des clés uniques et sécurisées en production.
SECRET_KEY=your-super-secret-key-change-me
JWT_SECRET_KEY=billing-jwt-secret-key-change-in-production

# Clé de chiffrement pour les credentials stockés en base
# Générez avec: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-encryption-key-change-me

# ===========================================
# BASE DE DONNÉES
# ===========================================
# SQLite (développement)
# DATABASE_URL=sqlite:///logistics.db

# PostgreSQL (production)
# Format: postgresql://user:password@host:port/dbname
DATABASE_URL=postgresql://postgres:password@localhost:5432/expresscargo

# ===========================================
# CORS - Origines autorisées
# ===========================================
# Liste des URLs autorisées, séparées par virgule
# IMPORTANT: Inclure les URLs du site web ET de l'APK
CORS_ORIGINS=https://client.expresscargo.com,https://admin.expresscargo.com,capacitor://localhost,ionic://localhost

# Pour le développement uniquement (DANGEREUX en production!)
# CORS_ALLOW_ALL=true

# ===========================================
# JWT TOKENS
# ===========================================
# Durée du token d'accès en heures (défaut: 24)
JWT_ACCESS_HOURS=24

# Durée du refresh token en jours (défaut: 30)
JWT_REFRESH_DAYS=30

# ===========================================
# UPLOADS - Cloudinary
# ===========================================
UPLOAD_FOLDER=uploads
MAX_UPLOAD_MB=16

# Cloudinary (optionnel - peut être configuré par tenant)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# ===========================================
# REDIS (pour cache, sessions, rate limiting, Celery)
# ===========================================
REDIS_URL=redis://localhost:6379/0

# ===========================================
# CELERY (tâches asynchrones)
# ===========================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ===========================================
# MONITORING - Sentry
# ===========================================
# SENTRY_DSN=https://xxx@sentry.io/xxx

# ===========================================
# LOGGING
# ===========================================
LOG_LEVEL=INFO

# ===========================================
# EMAILJS (Fallback pour tests OTP en dev)
# ===========================================
# Créer un compte gratuit sur https://www.emailjs.com/
# 1. Créer un service email (Gmail, Outlook, etc.)
# 2. Créer un template avec variables: to_email, to_name, otp_code, company_name, purpose, validity
# 3. Récupérer les IDs dans le dashboard EmailJS

EMAILJS_SERVICE_ID=service_c0rym5b
EMAILJS_TEMPLATE_ID=template_u1xvvxh
EMAILJS_PUBLIC_KEY=ACDUXeiP7zMmCWPW7

# Si ces variables ne sont pas définies, le code OTP sera affiché dans les logs du serveur (mode dev)
